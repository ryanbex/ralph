{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.234.1"},"children":{"RalphSecrets-dev":{"id":"RalphSecrets-dev","path":"RalphSecrets-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.234.1"},"children":{"AnthropicKeySecret":{"id":"AnthropicKeySecret","path":"RalphSecrets-dev/AnthropicKeySecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphSecrets-dev/AnthropicKeySecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Anthropic API keys for Ralph workstreams","generateSecretString":{"secretStringTemplate":"{\"default_key\":\"sk-ant-placeholder\"}","generateStringKey":"rotation_token"},"name":"ralph/dev/anthropic-keys"}}}}},"AnthropicSecretArn":{"id":"AnthropicSecretArn","path":"RalphSecrets-dev/AnthropicSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"AnthropicSecretName":{"id":"AnthropicSecretName","path":"RalphSecrets-dev/AnthropicSecretName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"RalphSecrets-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"RalphSecrets-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"Exports":{"id":"Exports","path":"RalphSecrets-dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Output{\"Ref\":\"AnthropicKeySecretB58006D3\"}":{"id":"Output{\"Ref\":\"AnthropicKeySecretB58006D3\"}","path":"RalphSecrets-dev/Exports/Output{\"Ref\":\"AnthropicKeySecretB58006D3\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RalphSecrets-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.234.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RalphSecrets-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.234.1"}}}},"RalphFargate-dev":{"id":"RalphFargate-dev","path":"RalphFargate-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.234.1"},"children":{"RalphVpc":{"id":"RalphVpc","path":"RalphFargate-dev/RalphVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/RalphVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"ralph-dev"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"RalphFargate-dev/RalphVpc/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.234.1","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"RalphFargate-dev/RalphVpc/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"RalphFargate-dev/RalphVpc/publicSubnet1"}],"vpcId":{"Ref":"RalphVpc932D0DC9"}}}},"Acl":{"id":"Acl","path":"RalphFargate-dev/RalphVpc/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"RalphFargate-dev/RalphVpc/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"RalphFargate-dev/RalphVpc/publicSubnet1"}],"vpcId":{"Ref":"RalphVpc932D0DC9"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"RalphFargate-dev/RalphVpc/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"RalphVpcpublicSubnet1RouteTableBD3226AC"},"subnetId":{"Ref":"RalphVpcpublicSubnet1Subnet341E3469"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"RalphFargate-dev/RalphVpc/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"RalphVpcIGW0DD67920"},"routeTableId":{"Ref":"RalphVpcpublicSubnet1RouteTableBD3226AC"}}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"RalphFargate-dev/RalphVpc/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.234.1","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"RalphFargate-dev/RalphVpc/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"RalphFargate-dev/RalphVpc/publicSubnet2"}],"vpcId":{"Ref":"RalphVpc932D0DC9"}}}},"Acl":{"id":"Acl","path":"RalphFargate-dev/RalphVpc/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"RalphFargate-dev/RalphVpc/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"RalphFargate-dev/RalphVpc/publicSubnet2"}],"vpcId":{"Ref":"RalphVpc932D0DC9"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"RalphFargate-dev/RalphVpc/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"RalphVpcpublicSubnet2RouteTableC1A96A01"},"subnetId":{"Ref":"RalphVpcpublicSubnet2SubnetB304A0DA"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"RalphFargate-dev/RalphVpc/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"RalphVpcIGW0DD67920"},"routeTableId":{"Ref":"RalphVpcpublicSubnet2RouteTableC1A96A01"}}}}}},"IGW":{"id":"IGW","path":"RalphFargate-dev/RalphVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ralph-dev"}]}}},"VPCGW":{"id":"VPCGW","path":"RalphFargate-dev/RalphVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"RalphVpcIGW0DD67920"},"vpcId":{"Ref":"RalphVpc932D0DC9"}}}}}},"WorkstreamLogs":{"id":"WorkstreamLogs","path":"RalphFargate-dev/WorkstreamLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/WorkstreamLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ralph/workstreams/dev","retentionInDays":7}}}}},"WorkerRepository":{"id":"WorkerRepository","path":"RalphFargate-dev/WorkerRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/WorkerRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"emptyOnDelete":true,"imageScanningConfiguration":{"scanOnPush":true},"lifecyclePolicy":{"lifecyclePolicyText":"{\"rules\":[{\"rulePriority\":1,\"description\":\"Keep only 10 most recent images\",\"selection\":{\"tagStatus\":\"any\",\"countType\":\"imageCountMoreThan\",\"countNumber\":10},\"action\":{\"type\":\"expire\"}}]}"},"repositoryName":"ralph-worker-dev"}}}}},"RalphCluster":{"id":"RalphCluster","path":"RalphFargate-dev/RalphCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/RalphCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"ralph-dev","clusterSettings":[{"name":"containerInsights","value":"disabled"}]}}},"RalphCluster":{"id":"RalphCluster","path":"RalphFargate-dev/RalphCluster/RalphCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"RalphClusterC1E39221"},"defaultCapacityProviderStrategy":[]}}}}},"TaskExecutionRole":{"id":"TaskExecutionRole","path":"RalphFargate-dev/TaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportTaskExecutionRole":{"id":"ImportTaskExecutionRole","path":"RalphFargate-dev/TaskExecutionRole/ImportTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"RalphFargate-dev/TaskExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"roleName":"ralph-task-execution-dev"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RalphFargate-dev/TaskExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/TaskExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":{"Fn::GetAtt":["WorkerRepository770852D6","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["WorkstreamLogsA75DCCE9","Arn"]}},{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Fn::ImportValue":"RalphSecrets-dev:ExportsOutputRefAnthropicKeySecretB58006D306DAE380"}}],"Version":"2012-10-17"},"policyName":"TaskExecutionRoleDefaultPolicyA84DD1B0","roles":[{"Ref":"TaskExecutionRole250D2532"}]}}}}}}},"TaskRole":{"id":"TaskRole","path":"RalphFargate-dev/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"RalphFargate-dev/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"RalphFargate-dev/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"ralph-task-dev"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RalphFargate-dev/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Fn::ImportValue":"RalphSecrets-dev:ExportsOutputRefAnthropicKeySecretB58006D306DAE380"}},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["WorkstreamLogsA75DCCE9","Arn"]}}],"Version":"2012-10-17"},"policyName":"TaskRoleDefaultPolicy07FC53DE","roles":[{"Ref":"TaskRole30FC0FBB"}]}}}}}}},"WorkerTaskDefinition":{"id":"WorkerTaskDefinition","path":"RalphFargate-dev/WorkerTaskDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/WorkerTaskDefinition/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["WorkerRepository770852D6","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["WorkerRepository770852D6","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"WorkerRepository770852D6"},":latest"]]},"name":"ralph-worker","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"WorkstreamLogsA75DCCE9"},"awslogs-stream-prefix":"worker","awslogs-region":"us-east-1"}},"environment":[{"name":"RALPH_ENV","value":"dev"},{"name":"AWS_REGION","value":"us-east-1"}],"secrets":[{"name":"ANTHROPIC_API_KEY","valueFrom":{"Fn::ImportValue":"RalphSecrets-dev:ExportsOutputRefAnthropicKeySecretB58006D306DAE380"}}],"healthCheck":{"command":["CMD-SHELL","echo healthy || exit 1"],"interval":30,"retries":3,"startPeriod":60,"timeout":5}}],"cpu":"1024","executionRoleArn":{"Fn::GetAtt":["TaskExecutionRole250D2532","Arn"]},"family":"ralph-worker-dev","memory":"2048","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"runtimePlatform":{"cpuArchitecture":"X86_64","operatingSystemFamily":"LINUX"},"taskRoleArn":{"Fn::GetAtt":["TaskRole30FC0FBB","Arn"]}}}},"worker":{"id":"worker","path":"RalphFargate-dev/WorkerTaskDefinition/worker","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.234.1"}}}},"TaskSecurityGroup":{"id":"TaskSecurityGroup","path":"RalphFargate-dev/TaskSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphFargate-dev/TaskSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Ralph worker tasks","groupName":"ralph-task-dev","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"RalphVpc932D0DC9"}}}}}},"ClusterArn":{"id":"ClusterArn","path":"RalphFargate-dev/ClusterArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"TaskDefinitionArn":{"id":"TaskDefinitionArn","path":"RalphFargate-dev/TaskDefinitionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"LogGroupName":{"id":"LogGroupName","path":"RalphFargate-dev/LogGroupName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"RepositoryUri":{"id":"RepositoryUri","path":"RalphFargate-dev/RepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"VpcId":{"id":"VpcId","path":"RalphFargate-dev/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"TaskSecurityGroupId":{"id":"TaskSecurityGroupId","path":"RalphFargate-dev/TaskSecurityGroupId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"RalphFargate-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"RalphFargate-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"Exports":{"id":"Exports","path":"RalphFargate-dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Output{\"Fn::GetAtt\":[\"WorkstreamLogsA75DCCE9\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"WorkstreamLogsA75DCCE9\",\"Arn\"]}","path":"RalphFargate-dev/Exports/Output{\"Fn::GetAtt\":[\"WorkstreamLogsA75DCCE9\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"Output{\"Ref\":\"WorkstreamLogsA75DCCE9\"}":{"id":"Output{\"Ref\":\"WorkstreamLogsA75DCCE9\"}","path":"RalphFargate-dev/Exports/Output{\"Ref\":\"WorkstreamLogsA75DCCE9\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RalphFargate-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.234.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RalphFargate-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.234.1"}}}},"RalphWebSocket-dev":{"id":"RalphWebSocket-dev","path":"RalphWebSocket-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.234.1"},"children":{"ConnectionsTable":{"id":"ConnectionsTable","path":"RalphWebSocket-dev/ConnectionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/ConnectionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"connectionId","attributeType":"S"},{"attributeName":"workstreamId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"workstream-index","keySchema":[{"attributeName":"workstreamId","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"connectionId","keyType":"HASH"}],"tableName":"ralph-ws-connections-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"RalphWebSocket-dev/ConnectionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}}}},"ConnectHandler":{"id":"ConnectHandler","path":"RalphWebSocket-dev/ConnectHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.234.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RalphWebSocket-dev/ConnectHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RalphWebSocket-dev/ConnectHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/ConnectHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RalphWebSocket-dev/ConnectHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/ConnectHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ConnectHandlerServiceRoleDefaultPolicy7DE94863","roles":[{"Ref":"ConnectHandlerServiceRole7E4A9B1F"}]}}}}}}},"Code":{"id":"Code","path":"RalphWebSocket-dev/ConnectHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"RalphWebSocket-dev/ConnectHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"RalphWebSocket-dev/ConnectHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/ConnectHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-088442357834-us-east-1","s3Key":"a6afed92eeeaa8a7a01d784c59c4f35650e5a9fe542cf044f89cda9e3d2d68c1.zip"},"description":"Handles WebSocket $connect route","environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"ConnectionsTable8000B8A1"},"ENVIRONMENT":"dev"}},"functionName":"ralph-ws-connect-dev","handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ConnectHandlerServiceRole7E4A9B1F","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"DisconnectHandler":{"id":"DisconnectHandler","path":"RalphWebSocket-dev/DisconnectHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.234.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RalphWebSocket-dev/DisconnectHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RalphWebSocket-dev/DisconnectHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/DisconnectHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RalphWebSocket-dev/DisconnectHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/DisconnectHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"DisconnectHandlerServiceRoleDefaultPolicy1800B9E5","roles":[{"Ref":"DisconnectHandlerServiceRoleE54F14F9"}]}}}}}}},"Code":{"id":"Code","path":"RalphWebSocket-dev/DisconnectHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"RalphWebSocket-dev/DisconnectHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"RalphWebSocket-dev/DisconnectHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/DisconnectHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-088442357834-us-east-1","s3Key":"2b4642e53856bbe96f28e2d2a9b80b0e93f2917670a6045037567772d031ca57.zip"},"description":"Handles WebSocket $disconnect route","environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"ConnectionsTable8000B8A1"},"ENVIRONMENT":"dev"}},"functionName":"ralph-ws-disconnect-dev","handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["DisconnectHandlerServiceRoleE54F14F9","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"SendLogsHandler":{"id":"SendLogsHandler","path":"RalphWebSocket-dev/SendLogsHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.234.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RalphWebSocket-dev/SendLogsHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.234.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RalphWebSocket-dev/SendLogsHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.234.1","metadata":[]}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/SendLogsHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RalphWebSocket-dev/SendLogsHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/SendLogsHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]},"/index/*"]]}]},{"Action":"execute-api:ManageConnections","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:088442357834:",{"Ref":"WebSocketApi34BCF99B"},"/dev/*"]]}}],"Version":"2012-10-17"},"policyName":"SendLogsHandlerServiceRoleDefaultPolicy241479EE","roles":[{"Ref":"SendLogsHandlerServiceRoleBDBA90A6"}]}}}}}}},"Code":{"id":"Code","path":"RalphWebSocket-dev/SendLogsHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.234.1"},"children":{"Stage":{"id":"Stage","path":"RalphWebSocket-dev/SendLogsHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.234.1"}},"AssetBucket":{"id":"AssetBucket","path":"RalphWebSocket-dev/SendLogsHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.234.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/SendLogsHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-088442357834-us-east-1","s3Key":"53929b3c8be5bbad26840a200bddcd2a0e06b68b3e88e9f47a26eb9cb575c916.zip"},"description":"Broadcasts logs to connected WebSocket clients","environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"ConnectionsTable8000B8A1"},"ENVIRONMENT":"dev","WEBSOCKET_ENDPOINT":{"Fn::Join":["",["https://",{"Ref":"WebSocketApi34BCF99B"},".execute-api.us-east-1.amazonaws.com/dev"]]}}},"functionName":"ralph-ws-sendlogs-dev","handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SendLogsHandlerServiceRoleBDBA90A6","Arn"]},"runtime":"nodejs20.x","timeout":60}}}}},"WebSocketApi":{"id":"WebSocketApi","path":"RalphWebSocket-dev/WebSocketApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketApi","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"description":"Ralph real-time log streaming WebSocket API","name":"ralph-websocket-dev","protocolType":"WEBSOCKET","routeSelectionExpression":"$request.body.action"}}},"$connect-Route":{"id":"$connect-Route","path":"RalphWebSocket-dev/WebSocketApi/$connect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.234.1","metadata":[]},"children":{"ConnectIntegration-Permission":{"id":"ConnectIntegration-Permission","path":"RalphWebSocket-dev/WebSocketApi/$connect-Route/ConnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConnectHandler2FFD52D8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:088442357834:",{"Ref":"WebSocketApi34BCF99B"},"/*$connect"]]}}}},"ConnectIntegration":{"id":"ConnectIntegration","path":"RalphWebSocket-dev/WebSocketApi/$connect-Route/ConnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/$connect-Route/ConnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConnectHandler2FFD52D8","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/$connect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$connect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApiconnectRouteConnectIntegration7F1E0FDE"}]]}}}}}},"$disconnect-Route":{"id":"$disconnect-Route","path":"RalphWebSocket-dev/WebSocketApi/$disconnect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.234.1","metadata":[]},"children":{"DisconnectIntegration-Permission":{"id":"DisconnectIntegration-Permission","path":"RalphWebSocket-dev/WebSocketApi/$disconnect-Route/DisconnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DisconnectHandlerCB7ED6F7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:088442357834:",{"Ref":"WebSocketApi34BCF99B"},"/*$disconnect"]]}}}},"DisconnectIntegration":{"id":"DisconnectIntegration","path":"RalphWebSocket-dev/WebSocketApi/$disconnect-Route/DisconnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/$disconnect-Route/DisconnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DisconnectHandlerCB7ED6F7","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/$disconnect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$disconnect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidisconnectRouteDisconnectIntegration94C91381"}]]}}}}}},"$default-Route":{"id":"$default-Route","path":"RalphWebSocket-dev/WebSocketApi/$default-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.234.1","metadata":[]},"children":{"DefaultIntegration-Permission":{"id":"DefaultIntegration-Permission","path":"RalphWebSocket-dev/WebSocketApi/$default-Route/DefaultIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SendLogsHandler83F13046","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:088442357834:",{"Ref":"WebSocketApi34BCF99B"},"/*$default"]]}}}},"DefaultIntegration":{"id":"DefaultIntegration","path":"RalphWebSocket-dev/WebSocketApi/$default-Route/DefaultIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/$default-Route/DefaultIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SendLogsHandler83F13046","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketApi/$default-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$default","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidefaultRouteDefaultIntegration0865A209"}]]}}}}}}}},"WebSocketStage":{"id":"WebSocketStage","path":"RalphWebSocket-dev/WebSocketStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketStage","version":"2.234.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RalphWebSocket-dev/WebSocketStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"autoDeploy":true,"stageName":"dev"}}}}},"LogSubscriptionFilter":{"id":"LogSubscriptionFilter","path":"RalphWebSocket-dev/LogSubscriptionFilter","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.SubscriptionFilter","version":"2.234.1","metadata":[]},"children":{"CanInvokeLambda":{"id":"CanInvokeLambda","path":"RalphWebSocket-dev/LogSubscriptionFilter/CanInvokeLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SendLogsHandler83F13046","Arn"]},"principal":"logs.amazonaws.com","sourceArn":{"Fn::ImportValue":"RalphFargate-dev:ExportsOutputFnGetAttWorkstreamLogsA75DCCE9ArnD4E9DBA2"}}}},"Resource":{"id":"Resource","path":"RalphWebSocket-dev/LogSubscriptionFilter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnSubscriptionFilter","version":"2.234.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::SubscriptionFilter","aws:cdk:cloudformation:props":{"destinationArn":{"Fn::GetAtt":["SendLogsHandler83F13046","Arn"]},"filterName":"ralph-ws-subscription-dev","filterPattern":"","logGroupName":{"Fn::ImportValue":"RalphFargate-dev:ExportsOutputRefWorkstreamLogsA75DCCE96CE0D28A"}}}}}},"WebSocketApiId":{"id":"WebSocketApiId","path":"RalphWebSocket-dev/WebSocketApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"WebSocketEndpoint":{"id":"WebSocketEndpoint","path":"RalphWebSocket-dev/WebSocketEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"ConnectionsTableName":{"id":"ConnectionsTableName","path":"RalphWebSocket-dev/ConnectionsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.234.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"RalphWebSocket-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"RalphWebSocket-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.234.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RalphWebSocket-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.234.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RalphWebSocket-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.234.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}}}}}