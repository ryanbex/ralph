{
 "Resources": {
  "AnthropicKeySecretB58006D3": {
   "Type": "AWS::SecretsManager::Secret",
   "Properties": {
    "Description": "Anthropic API keys for Ralph workstreams",
    "GenerateSecretString": {
     "GenerateStringKey": "rotation_token",
     "SecretStringTemplate": "{\"default_key\":\"sk-ant-placeholder\"}"
    },
    "Name": "ralph/dev/anthropic-keys"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RalphSecrets-dev/AnthropicKeySecret/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/yXHUQ5EMBCA4bN4b4ctTuAAEg4go4aUVZvOlAdx9w2e/u83YPICPgkerO2w6K/r4WwF7aLw4I7JBhJe0eNEAc72eVWN/tV1s47yi3Ipvw0EM6e7KaCELJnZOR2iF7cSNG//T5Xr0nAAAAA="
   },
   "Metadata": {
    "aws:cdk:path": "RalphSecrets-dev/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "AnthropicSecretArn": {
   "Description": "Anthropic API Key Secret ARN",
   "Value": {
    "Ref": "AnthropicKeySecretB58006D3"
   },
   "Export": {
    "Name": "ralph-anthropic-secret-arn-dev"
   }
  },
  "AnthropicSecretName": {
   "Description": "Anthropic API Key Secret Name",
   "Value": {
    "Fn::Join": [
     "-",
     [
      {
       "Fn::Select": [
        0,
        {
         "Fn::Split": [
          "-",
          {
           "Fn::Select": [
            6,
            {
             "Fn::Split": [
              ":",
              {
               "Ref": "AnthropicKeySecretB58006D3"
              }
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "Fn::Select": [
        1,
        {
         "Fn::Split": [
          "-",
          {
           "Fn::Select": [
            6,
            {
             "Fn::Split": [
              ":",
              {
               "Ref": "AnthropicKeySecretB58006D3"
              }
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    ]
   },
   "Export": {
    "Name": "ralph-anthropic-secret-name-dev"
   }
  },
  "ExportsOutputRefAnthropicKeySecretB58006D306DAE380": {
   "Value": {
    "Ref": "AnthropicKeySecretB58006D3"
   },
   "Export": {
    "Name": "RalphSecrets-dev:ExportsOutputRefAnthropicKeySecretB58006D306DAE380"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}